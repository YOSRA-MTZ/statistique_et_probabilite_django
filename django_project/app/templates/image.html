{% load static %}
<!DOCTYPE html>
<html lang="fr">
    <head>
        {% block styles %}
        <link rel="stylesheet" type="text/css"
            href="{% static 'css/style.css' %}">
            <link href="{% static 'webfonts/all.min.css' %}" rel="stylesheet">

        {% endblock %}
        <meta charset="UTF-8">
        <title>
            ESSADEQ MOUMTAZ
        </title>
       

    </head>
    <body class="lang-fr home  ">
       
       
            <!-- 
                <img src="../static/img/IY.png" alt="I.Y" width="250px"
                height="250px" />
                
            </div> -->
            <div style="margin-top:100px;margin:40px;"><a href="{% url 'app' %}" style="color:black"> <i class="fa fa-arrow-left"></i> Retour </a></div>

            <div class="tools " style="margin-top: 100px;">
                
                <div class="tools__container">
                   
                   
                        <div class="tools__item">
                            <a href="{% url 'excel'%}" title="Excel">
                                <div class="tools__item__icon">
                                    <img src="../static/img/excel.png"  width="40" height="40"  viewBox="0 0 50 50" />
                                </div>
                                <h3 >Excel</h3>
                            </a>
                        </div>
                    
                    
                    <div class="tools__item"  >
                        <a href="{% url 'csv' %}" title="Csv">
                            <div class="tools__item__icon">
                                <img src="../static/img/csv.png" alt="I.Y"    width="40" height="40" viewBox="0 0 50 50" />

                            </div>
                            <h3 >CSV</h3>
                           
                        </a>
                    </div>
                    <div class="tools__item">
                        <a href="{% url 'url'%}" title="Lien">
                            <div class="tools__item__icon">
                                <img src="../static/img/url.png" alt="I.Y" width="40" height="40" viewBox="0 0 50 50" />

                            </div>
                            <h3>Lien</h3>
                          
                        </a>
                    </div>
                    <div class="tools__item">
                        <a href="{% url 'text'%}" title="Text">
                            <div class="tools__item__icon">
                                <img src="../static/img/fichier.png" alt="I.Y"   width="40" height="40" viewBox="0 0 50 50" />

                            </div>
                            <h3>Text</h3>
                           
                        </a>
                    </div>
                    <div class="tools__item" style="background: rgba(6,154,184,255);">
                        <a href="{% url 'image'%}"
                            title="image">
                            <div class="tools__item__icon">
                                <img src="../static/img/autre.png" alt="I.Y" style="background:white" width="40" height="40" viewBox="0 0 60 60" />

                            </div>
                            <h3 style="color:white">Image</h3>
                           
                        </a>
                    </div>

                    <form method="post" enctype="multipart/form-data" id="fileUploadForm"> 
                        <div class="centered">
                            <input type="file" name="image" id="imageInput" accept=".png, .jpg, .jpeg">
                        </div>
                        <div class="centered-container">
                            {% csrf_token %}
                            <!-- No need for a separate submit button -->
                        </div>
                    </form>
                    
                    <div id="imageContainer" style="display: none;">
                        
                        <img id="uploadedImage" alt="Uploaded Image">
                    </div>
                    
                    <div id="histogramContainer" style="display: none;">
                       
                        <canvas id="histogramCanvas" width="400" height="200"></canvas>
                    </div>
                    
                    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
                    
                    <script>
                        document.getElementById('imageInput').addEventListener('change', function () {
                            var imageInput = document.getElementById('imageInput');
                            var imageContainer = document.getElementById('imageContainer');
                            var uploadedImage = document.getElementById('uploadedImage');
                            var histogramContainer = document.getElementById('histogramContainer');
                            var histogramCanvas = document.getElementById('histogramCanvas');
                            var ctx = histogramCanvas.getContext('2d');
                    
                            if (imageInput.files.length > 0) {
                               
                                var img = new Image();
                                img.src = URL.createObjectURL(imageInput.files[0]);
                                uploadedImage.src = img.src;
                    
                                imageContainer.style.display = 'block';
                                histogramContainer.style.display = 'block';
                    
                                // Process the image and draw histogram
                                drawHistogram(img, ctx);
                            }
                        });
                    
                     
                          
                    </script>
                    
                    
                    <style>
                        input::placeholder {
                            color: rgb(189, 188, 188) !important;
                        }
                        .centered-container {
                                display: flex;
                                flex-direction: ligne;
                                align-items: center;
                                justify-content: center;
                                width: 100vw;
                                height: 10vh;
                               
                            }
                            .centered {
                                display: flex;
                                flex-direction: ligne;
                                align-items: center;
                                justify-content: center;
                                width: 100vw;
                                height: 30vh;
                               
                            }
                            .a {
                                
                                padding-left: 60px;
                                padding-right: 60px;
                            }
                            button {
                                margin: 10px;
                               
                                padding: 20px;
                                font-size: 24px;
                                background-color:  rgba(69,144,198,255);
                                border: 10px solid  rgba(69,144,198,255);
                                color:white;
                                border-radius: 20px;
                            }
                            input {
                                padding: 20px;
                                font-size: 24px;
                                background-color:  rgba(69,144,198,255);
                                border: 10px solid  rgba(69,144,198,255);
                                color: white;
                                border-radius: 20px;
                               
                              }
                              
                               
                            
                            </style>
    
                    
                    
                    
                </div>

               </body>
        </html>
